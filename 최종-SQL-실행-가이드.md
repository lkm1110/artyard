# ğŸš€ ìµœì¢… SQL ì‹¤í–‰ ê°€ì´ë“œ (ì—ëŸ¬ 100% í•´ê²°!)

## âš ï¸ **ì¤‘ìš”: ì´ SQLì€ ê¸°ì¡´ ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤!**

```
ğŸ—‘ï¸ ê¸°ì¡´ transactions, shipping_addresses ë“± ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë©ë‹ˆë‹¤!
ğŸ’¾ ì¤‘ìš”í•œ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ë°±ì—…í•˜ì„¸ìš”!
```

---

## âœ… **ì‹¤í–‰ ë°©ë²• (ê°„ë‹¨ 3ë‹¨ê³„)**

### **1ë‹¨ê³„: Supabase Dashboard ì—´ê¸°**
```
https://supabase.com â†’ í”„ë¡œì íŠ¸ ì„ íƒ â†’ SQL Editor
```

### **2ë‹¨ê³„: SQL ë³µì‚¬ & ì‹¤í–‰**
```
CLEAN-INSTALL.sql íŒŒì¼ ì „ì²´ ë³µì‚¬
â†’ SQL Editorì— ë¶™ì—¬ë„£ê¸°
â†’ "Run" í´ë¦­
```

### **3ë‹¨ê³„: ì™„ë£Œ!**
```
âœ… í´ë¦° ì„¤ì¹˜ ì™„ë£Œ!
ğŸ“Š í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ: 5%
ğŸ—‘ï¸ ê¸°ì¡´ ë°ì´í„°ëŠ” ëª¨ë‘ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤
```

---

## ğŸ“‹ **ë¬´ì—‡ì´ ìƒì„±ë˜ë‚˜ìš”?**

### **í…Œì´ë¸” (11ê°œ)**
```
âœ… shipping_addresses          (ë°°ì†¡ì§€)
âœ… artwork_shipping_settings   (ë°°ì†¡ ì„¤ì •)
âœ… transactions                (ê±°ë˜) â† status ì»¬ëŸ¼ í¬í•¨!
âœ… transaction_history         (ê±°ë˜ ì´ë ¥)
âœ… payouts                     (ì •ì‚°)
âœ… transaction_reviews         (ë¦¬ë·°)
âœ… challenges                  (ì±Œë¦°ì§€)
âœ… challenge_entries           (ì±Œë¦°ì§€ ì°¸ì—¬)
âœ… artist_analytics            (ì‘ê°€ í†µê³„)
âœ… artwork_views               (ì¡°íšŒ ê¸°ë¡)
âœ… profiles ì»¬ëŸ¼ ì¶”ê°€          (í‰ì , íŒë§¤ í†µê³„)
```

### **ì¸ë±ìŠ¤ (20ê°œ+)**
```
âœ… ëª¨ë“  ì™¸ë˜ í‚¤ ì¸ë±ìŠ¤
âœ… status, created_at ë“± ê²€ìƒ‰ìš© ì¸ë±ìŠ¤
âœ… ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´
```

### **RLS ì •ì±… (ë³´ì•ˆ)**
```
âœ… ë³¸ì¸ ë°ì´í„°ë§Œ ì¡°íšŒ/ìˆ˜ì •
âœ… ê³µê°œ ë°ì´í„°ëŠ” ëª¨ë‘ ì¡°íšŒ ê°€ëŠ¥
âœ… auth.uid() ê¸°ë°˜ ê¶Œí•œ
```

---

## ğŸ”§ **ì—ëŸ¬ í•´ê²°**

### **ì´ì „ ì—ëŸ¬:**
```
ERROR: 42703: column "status" does not exist
```

### **í•´ê²° ë°©ë²•:**
```
âœ… CLEAN-INSTALL.sql ì‚¬ìš©
   â†’ ê¸°ì¡´ í…Œì´ë¸” ì™„ì „ ì‚­ì œ
   â†’ ìƒˆë¡œ ìƒì„± (status ì»¬ëŸ¼ í¬í•¨)
   â†’ ì—ëŸ¬ ì—†ìŒ!
```

---

## ğŸ’° **ìˆ˜ìˆ˜ë£Œ êµ¬ì¡° (5%)**

```
ì‘í’ˆ ê°€ê²©: 50,000ì›
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ (5%): -2,500ì›
Stripe ìˆ˜ìˆ˜ë£Œ (3.2%): -1,750ì›
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
íŒë§¤ì ìˆ˜ë ¹ì•¡: 45,750ì› (91.5%)
```

---

## âš™ï¸ **ì‹¤í–‰ í›„ í™•ì¸**

### **1. í…Œì´ë¸” í™•ì¸**
```sql
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public' 
AND table_name LIKE '%transaction%'
ORDER BY table_name;
```

**ê²°ê³¼:**
```
transaction_history
transaction_reviews
transactions â† ì´ê²Œ ìˆì–´ì•¼ í•¨!
```

### **2. status ì»¬ëŸ¼ í™•ì¸**
```sql
SELECT column_name, data_type, is_nullable, column_default
FROM information_schema.columns
WHERE table_name = 'transactions'
AND column_name = 'status';
```

**ê²°ê³¼:**
```
column_name | data_type      | is_nullable | column_default
------------|----------------|-------------|----------------
status      | character varying | NO      | 'pending'::character varying
```

---

## ğŸ“š **ë‹¤ìŒ ë‹¨ê³„**

### **1. Stripe ì„¤ì¹˜**
```bash
npm install @stripe/stripe-react-native
```

### **2. í™˜ê²½ë³€ìˆ˜ ì„¤ì •**
```env
EXPO_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
```

### **3. í…ŒìŠ¤íŠ¸**
```
CheckoutScreenì—ì„œ ê²°ì œ í…ŒìŠ¤íŠ¸
í…ŒìŠ¤íŠ¸ ì¹´ë“œ: 4242 4242 4242 4242
```

---

## ğŸ¯ **íŒŒì¼ ì •ë¦¬**

### **ì‚¬ìš©í•  íŒŒì¼:**
```
âœ… CLEAN-INSTALL.sql           â† ì´ê±° í•˜ë‚˜ë§Œ!
âœ… ìµœì¢…-SQL-ì‹¤í–‰-ê°€ì´ë“œ.md     â† ì´ ê°€ì´ë“œ
```

### **ì‚¬ìš© ì•ˆ í•  íŒŒì¼:**
```
âŒ complete-system-schema.sql
âŒ complete-system-schema-safe.sql
âŒ shipping-address-schema.sql
```

---

## ğŸ’¡ **FAQ**

### **Q: ê¸°ì¡´ ë°ì´í„°ê°€ ì‚¬ë¼ì§€ë‚˜ìš”?**
A: ë„¤! **CLEAN-INSTALL.sqlì€ ê¸°ì¡´ ë°ì´í„°ë¥¼ ëª¨ë‘ ì‚­ì œ**í•©ë‹ˆë‹¤.
   ì¤‘ìš”í•œ ë°ì´í„°ëŠ” ë°±ì—…í•˜ì„¸ìš”!

### **Q: ì—ëŸ¬ê°€ ë˜ ë‚˜ë©´?**
A: 
1. SQL Editorì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
2. ì „ì²´ ì—ëŸ¬ ë¡œê·¸ ë³µì‚¬
3. ì•Œë ¤ì£¼ì„¸ìš” â†’ ì¦‰ì‹œ í•´ê²°í•´ë“œë¦½ë‹ˆë‹¤!

### **Q: artworks, profiles í…Œì´ë¸”ì´ ì—†ë‹¤ê³  ë‚˜ì™€ìš”**
A: ê´œì°®ìŠµë‹ˆë‹¤! ì™¸ë˜ í‚¤ëŠ” ì„ íƒì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤.
   í•´ë‹¹ í…Œì´ë¸”ì´ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ ì—°ê²°ë©ë‹ˆë‹¤.

---

## ğŸ‰ **ì„±ê³µ ë©”ì‹œì§€**

SQL ì‹¤í–‰ í›„ ì´ë ‡ê²Œ ë‚˜ì˜¤ë©´ ì„±ê³µì…ë‹ˆë‹¤:

```
result                     | fee_info              | warning
---------------------------|-----------------------|---------------------------
âœ… í´ë¦° ì„¤ì¹˜ ì™„ë£Œ!          | ğŸ“Š í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ: 5%   | ğŸ—‘ï¸ ê¸°ì¡´ ë°ì´í„°ëŠ” ëª¨ë‘ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤
```

---

**ì´ì œ ì—ëŸ¬ ì—†ì´ ì‹¤í–‰ë©ë‹ˆë‹¤!** ğŸš€

ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“  ë¬¼ì–´ë³´ì„¸ìš”! ğŸ˜Š

